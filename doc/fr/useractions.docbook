<sect1 id="useractions"
>
  <!-- **********************************************************************
                            useractions.docbook
                          ++++++++++++++++++++++++++
 (C)opyright            : (C) 2000 - 2009
  All Rights Reserved     Rafi Yanai, Shie Erlich, Frank Schoolmeesters
                          & the Krusader Krew
  e-mail                : krusader@users.sourceforge.net
  web site              : http://www.krusader.org
  description           : a Krusader Documentation File

***************************************************************************
* Permission is granted to copy, distribute and/or modify this            *
* document under the terms of the GNU Free Documentation License,         *
* Version 1.1 or any later version published by the Free Software         *
* Foundation; with no Invariant Sections, no Front-Cover Texts and        *
* no Back-Cover Texts.  A copy of the license is available on the         *
* GNU site http://www.gnu.org/licenses/fdl.html or by writing to:         *
* Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,    *
* MA 02111-1307, USA.                                                     *
*********************************************************************** -->
  <title
>Actions utilisateur</title
>
  <indexterm
>
    <primary
>Actions utilisateur</primary
>
  </indexterm
>
  <!-- Thanks to Jonas Bar -->
  <para
>Avec ActionMan, vous pouvez régler, configurer et gérer vos actions utilisateur. Des paramètres généraux sont configurés avec <link linkend="konfig-useractions"
>Konfigurator</link
>. Avec les actions utilisateurs, vous pouvez réaliser des actions sur des fichiers dans le panneau ou pour avoir accès directement aux fonctionnalités internes de &krusader; avec des paramètres utilisant des substituants. Les actions intègrent sans heurts avec le système d'actions de &kde; ce qui signifie que les boîtes de dialogue de la barre d'outils « Édition » et d'édition des raccourcis clavier afficheront les actions utilisateurs. Celles-ci sont stockées dans <filename
> ~/.kde/share/apps/krusader/useraction.xml</filename
> (la structure du fichier est documentée dans les en-têtes Doxygen de UserActionXML). Plusieurs <link linkend="useraction-xml"
>exemples</link
> sont inclus dans la documentation. Les actions utilisateurs peuvent être modifiées / ajoutées / importées / exportées en utilisant ActionMan. Les actions utilisateur par défaut sont stockées dans <filename
> ~/.kde/share/apps/krusader/useraction-examples.xml</filename
>. Elle peuvent apparaître ======. Elle peuvent même être placées dans la barre de menu, mais pour cela, le fichier <filename
>krusaderui.rc</filename
> doit être modifié. Quelques exemples : <itemizedlist
> <listitem
> <para
> <link linkend="useractions-menu"
>Menu Actions utilisateur</link
> </para
> </listitem
> <listitem
> <para
><link linkend="useractions"
>Menu Utilisateur</link
></para
> </listitem
> <listitem
> <para
><link linkend="actions_toolbar"
>Barre d'outils d'actions</link
></para
> </listitem
> <listitem
> <para
>clic-droit sur les menus</para
> </listitem
> <listitem
> <para
>&etc;</para
> </listitem
> </itemizedlist
> L'outil d'actions utilisateur est très puissant et personnalisable si vous êtes familiarisé avec l'écriture des actions utilisateur en général.</para
>
  <tip
>
    <para
>De nombreuses actions utilisateur sont fournis par défaut. Veuillez <link linkend="help_krusader"
>envoyer vos actions utilisateur favorites</link
> pour que celle-ci deviennent disponibles pour la communauté de &krusader;. Merci ! Nous fournissons aussi un <ulink url="http://www.krusader.org/phpBB/viewforum.php?f=11"
>forum d'actions utilisateur</ulink
>.</para
>
  </tip
>
  <figure id="screenshot-actionman" float="1"
>
    <title
>ActionMan</title
>
    <mediaobject
>
      <imageobject
>
        <imagedata fileref="actionman.png"
></imagedata
>
      </imageobject
>
      <textobject
>
        <phrase
>ActionMan</phrase
>
      </textobject
>
    </mediaobject
>
  </figure
>
  <para
>Basiquement, les actions utilisateurs sont une méthode pour appeler des programmes externes avec des paramètres variables. Par exemple, vous pouvez avoir une action utilisateur avec la commande suivante - <command
>xmms <option
>--enqueue %aList("Selected")%</option
></command
> - pour mettre en file d'attente tous les éléments sélectionnés du panneau actif vers une instance de XMMS. En plus, il y a un accès limité aux fonctionnalités internes de &krusader; demandant des paramètres. Par exemple, <command
>%aPanelSize("80")%</command
> définira la largeur du panneau actif à 80% de la fenêtre principale de &krusader;. Depuis que les paramètres fictifs peuvent contenir d'autres substituants, quelques scripts sont possibles. Cependant, scripter pour être réalisé avec le <link linkend="javascript_console"
>terminal JavaScript</link
>.</para
>
  <para
>
    <emphasis role="bold"
>Gestion des actions utilisateur</emphasis
>
  </para
>
  <para
>Ouvrez Konfigurator et choisissez « Actions utilisateur / Gérer les actions utilisateur... », dans lequel vous pouvez ajouter, modifier, supprimer, importer et exporter les actions utilisateurs. <itemizedlist
> <listitem
> <para
> <guimenuitem
>Créer une nouvelle action utilisateur</guimenuitem
> : si vous ajoutez une nouvelle action, vous v avez un masque vide où vous pouvez saisir toutes les propriétés que vous désirez. L'action sera ajoutée dès que vous appuyez sur le bouton <guimenuitem
>Ok</guimenuitem
>. Ensuite, le nom est affiché dans la liste sur la gauche.</para
> </listitem
> <listitem
> <para
>Pour modifier une action utilisateur : sélectionnez l'action utilisateur sur la gauche. Ensuite, choisissez la si vous voulez modifier ses propriétés. Les modifications prendront seulement effet quand vous appuyez sur le bouton <guimenuitem
>Ok</guimenuitem
>.</para
> </listitem
> <listitem
> <para
> <guimenuitem
>Pour supprimer une action utilisateur</guimenuitem
>  sélectionnez l'action utilisateur sur la gauche et cliquez sur le bouton « Supprimer les actions utilisateurs sélectionnées ».</para
> </listitem
> <listitem
> <para
> <guimenuitem
>Pour importer une action utilisateur</guimenuitem
> : si vous importez des actions, elles seront automatiquement ajoutées à votre liste. S'il y a des conflits de noms (les noms doivent être unique parcequ'ils ont l'ID pour le système d'action &kde;), vous devez corriger cela vous-même. Pour cela, la liste sur la gauche n'affichera seulement que les actions où un conflit existe. Vous pouvez maintenant leur donner de nouveaux noms ou les supprimer.</para
> </listitem
> <listitem
> <para
> <guimenuitem
>Exporter une action</guimenuitem
> : si vous exportez une action utilisateur, vous devez leur donner un nom de fichier dans lequel les stocker. Si ce nom n'existe pas, il sera créé. Si le fichier contient toujours des actions utilisateur, l'action que vous exportez sera ajouté à ce fichier.</para
> </listitem
> </itemizedlist
>Toutes les actions que vous avez définies sont maintenant affichées dans le menu utilisateur et dans les boîtes de dialogue de &kde; pour la modification des raccourcis clavier et la gestion de la barre d'outils. En plus, toutes les actions disponibles pour l'élément courant sera aussi affiché dans le menu par clic-droit.</para
>
  <para
>
    <emphasis role="bold"
>Propriétés de base</emphasis
>
  </para
>
  <para
><guimenuitem
>Un nom distinct, un titre et une ligne de commande</guimenuitem
>sont toujours requis, toutes les autres options sont optionnelles. <itemizedlist
>
    <listitem
>
      <para
><guimenuitem
>Nom distinct</guimenuitem
> : un nom unique de l'action utilisateur, utilisé pour l'identifier dans les actions système de &kde;.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Icône</guimenuitem
>: le logo pour votre action utilisateur.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Catégorie</guimenuitem
> : ajoute une catégorie pour une meilleur vue d'ensemble. REMARQUE : la propriété n'est pas utilisé pour le moment. Ceci est planifié pour le futur mais pas encore implanté.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Titre</guimenuitem
> : le titre affiché dans les menus ou les boîtes de dialogue.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Infobulle</guimenuitem
> : une infobulle pour votre action utilisateur, &pex; affiché dans la barre d'outils sur le passage de la souris.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Description</guimenuitem
> : une description de ce que fait cette action utilisateur. Aussi affiché avec <guimenuitem
>Qu'est-ce que c'est</guimenuitem
> Si vous cliquez avec <keycombo action="simul"
><keycap
>Backspace</keycap
> <keycap
>F1</keycap
></keycombo
> sur vos actions utilisateur.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Utiliser la case à cochée d'infobulle</guimenuitem
>: Utilise l'infobulle comme description.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Commande</guimenuitem
> : la ligne de commande qui sera exécutée. Vous pouvez ajouter un substituant utilisant une interface graphique avec le bouton <guibutton
>ajouter</guibutton
> sur la droite.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Dossier de travail</guimenuitem
> : le dossier de travail pour la commande qui sera exécutée.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Mode d'exécution</guimenuitem
>:</para
>
      <itemizedlist
>
        <listitem
>
          <para
><guimenuitem
>Normal</guimenuitem
> : mode d'exécution par défaut.</para
>
        </listitem
>
        <listitem
>
          <para
><guimenuitem
>Exécuter dans un terminal</guimenuitem
> : la commande se lance et ouvre un terminal.</para
>
        </listitem
>
        <listitem
>
          <para
><guimenuitem
>Exécuter dans l'émulateur de terminal embarqué</guimenuitem
> : la commande se lance et ouvre un terminal embarqué.</para
>
        </listitem
>
        <listitem
>
          <para
><guimenuitem
>Enregistrer la sortie</guimenuitem
> : affiche le message de sortie du programme exécuté dans une fenêtre graphique.</para
>
        </listitem
>
        <listitem
>
          <para
><guimenuitem
>Séparer la sortie erreur standard</guimenuitem
> : si cette case est cochée, les messages de sortie et d'erreur sont affichés séparément.</para
>
        </listitem
>
      </itemizedlist
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>La commande accepte</guimenuitem
>:</para
>
      <itemizedlist
>
        <listitem
>
          <para
><guimenuitem
>Fichiers locaux uniquement (pas d'URL)</guimenuitem
> : demande au substituant de retourner à l'adresse locale.</para
>
        </listitem
>
        <listitem
>
          <para
><guimenuitem
>URL (distants et locaux)</guimenuitem
> : demande au substituant de retourner à l'URL.</para
>
        </listitem
>
      </itemizedlist
>
    </listitem
>
    <!--    Not yet implemented, but will be after 1.50 stable is released
        <listitem
><para
><guimenuitem
>"On multiple selection"</guimenuitem
>:  </para
>
        <itemizedlist
>
   <listitem
><para
><guimenuitem
>"separate call for each file"</guimenuitem
>: executes the command for each selected file.
             </para
></listitem
>
         </itemizedlist
>
      </listitem
> -->
    <listitem
>
      <para
><guimenuitem
>Raccourci par défaut</guimenuitem
> : configure le raccourci par défaut pour l'action utilisateur.</para
>
    </listitem
>
    <listitem
>
      <para
><guimenuitem
>Activé</guimenuitem
> : si la case est cochée, l'action utilisateur est affichée dans le <link linkend="useractions"
>menu utilisateur</link
>, sinon celle-ci est cachée.</para
>
    </listitem
>
  </itemizedlist
></para
>
  <para
>
    <emphasis role="bold"
>Syntaxe de la commande</emphasis
>
  </para
>
  <para
>Basiquement, tout ce que vous saisissez en tant que commande sera exécutés (si vous saisissez « ls -l », « ls -l » sera exécuté). Vous avez la possibilité d'avoir une entrée de caractère de &krusader; qui représente l'état courant du panneau. Cela est permis en utilisant les substituants. Un substituant commence avec un signe de pourcentage (%) et est suivi par un indicateur de panneau (« a » pour le panneau actif, « o » pour l'autre, « I » pour celui de gauche et « r » pour celui de droite. Si le substituant n'a pas besoin d'un panneau pour réaliser une opération, vous devez l'indiquer avec un tiret (_)). Ensuite, vient le nom du substituant (voir la liste ci-dessous), qui doit donner des paramètres entre guillemets. Et enfin, le symbole %.</para
>
  <para
>Cela paraît assez compliqué, donnons donc un exemple : « %aList("Selected")% » est remplacé par une liste de tous les éléments sélectionnés dans le panneau actif. Une commande comme « xmms --enqueue %aList("All", " ", "", "*.mp3")% » exécutera xmms avec une liste de tous les fichiers mp3 dans le panneau courant, séparé par un blanc simple.</para
>
  <para
>Les substituants suivants sont implantés : <itemizedlist
> <listitem
> <para
> <userinput
>Emplacement</userinput
> - remplacé par l'emplacement des panneaux </para
> <orderedlist
> <listitem
> <para
>Paramètre (optionnel) : espaces de sortie automatiques. Défaut : oui</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Compte</userinput
> - remplacé par le premier numéro du &lt;premier paramètre&gt;</para
> <orderedlist
> <listitem
> <para
>Paramètre : quel éléments soit Tous, Sélectionnés, Fichiers ou Dossiers</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Filtre</userinput
> - remplacé par le masque de filtre du panneau</para
> </listitem
> <listitem
> <para
> <userinput
>Courant</userinput
> - remplacé par l'élément courant</para
> <orderedlist
> <listitem
> <para
>Paramètre (optionnel) : omettre l'emplacement courant. Défaut : non</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : espaces de sortie automatiques. Défaut : oui</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Liste</userinput
> - remplacé par une liste de tous les &lt;premiers paramètres &gt;</para
> <orderedlist
> <listitem
> <para
>Paramètre :Quels éléments ; soit Tous, Sélectionné, Fichiers ou Dossiers</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : Séparateur entre les éléments. Défaut : « &nbsp; »</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : Omettre l'emplacement courant. Défaut : non</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : masque de filtrage (pour tous sauf « Sélectionné »). Défaut : *</para
> </listitem
> <listitem
> <para
> Paramètre (optionnel) : espaces de sortie automatiques. Défaut : oui</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Sélectionner</userinput
> - manipule la sélection dans le panneau</para
> <orderedlist
> <listitem
> <para
>Paramètre : masque de filtrage</para
> </listitem
> <listitem
> <para
>.Paramètre (optionnel) : manipule de quelle manière ; soit « Réglage », « Ajouter » ou « Supprimer ». Défaut : « Réglage » </para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Aller à</userinput
> - modifie l'emplacement du panneau pour le &lt; premier paramètre&gt;</para
> <orderedlist
> <listitem
> <para
>Paramètre : un emplacement relatif ou absolu, ou un URL</para
> </listitem
> <listitem
> <para
> Paramètre (optionnel) : ouvre l'emplacement dans un nouvel onglet. Défaut : non</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Demander</userinput
> - demande à l'utilisateur le texte et est remplacé par la réponse</para
> <orderedlist
> <listitem
> <para
>Paramètre : la question</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : une réponse par défaut</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : une légende pour la boîte à question</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Presse-papiers</userinput
> - manipule le presse-papiers </para
> <orderedlist
> <listitem
> <para
>Paramètre : le texte qui doit aller vers le presse-papiers (vous pouvez utiliser ici « %aCurrent% »)</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : Ajouter le texte au contenu courant du presse-papiers avec ce séparateur</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Copier</userinput
> - copie un fichier, utile pour les sauvegardes rapides et locales</para
> <orderedlist
> <listitem
> <para
>Paramètre : ce qui doit être copié</para
> </listitem
> <listitem
> <para
>Paramètre : où cela doit être copié</para
></listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Sync</userinput
> - ouvre Synchronizer avec un profil donné</para
> <orderedlist
> <listitem
> <para
>Paramètre : un profil pour le Synchronizer</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>NouvelleRecherche</userinput
> - ouvre la fenêtre de recherche avec un profil donné</para
> <orderedlist
> <listitem
> <para
>Paramètre : un profile pour le module de recherche</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Profil</userinput
> - charge un profil de panneau donné</para
> <orderedlist
> <listitem
><para
>Paramètre : un profil de panneau</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Chaque</userinput
> - sépare la ligne de commande dans une liste. Ces commandes sont exécutées l'une après l'autre.</para
> <orderedlist
> <listitem
> <para
>Paramètre : un élément de type liste (tous, tous les fichiers, tous les dossiers, tout sélectionné).</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Déplacer</userinput
> - se déplacer du dossier source au dossier cible.</para
> <orderedlist
> <listitem
> <para
>Paramètre : une source</para
> </listitem
> <listitem
> <para
>Paramètre : une destination</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>TaillePanneau</userinput
> - modifie l'échelle entre les deux panneaux.</para
> <orderedlist
> <listitem
> <para
>Paramètre (optionnel) : une valeur integer, &pex;, 80, le panneau actif utilise 80% de la largeur de &krusader; (hauteur dans le mode vertical), omettant le paramètre signifie 50%.</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Demander</userinput
> - annule l'exécution.</para
> <orderedlist
> <listitem
> <para
>Paramètre (optionnel) : une entrée pour la question d'annulation.</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Script</userinput
> - exécute un fichier <link linkend="javascript_console"
> Javascript</link
> externe.</para
> <para
>REMARQUE : cette fonctionnalité est toujours expérimentale et l'interface peut changer, les retours sont les bienvenus.</para
> <orderedlist
> <listitem
> <para
>Paramètre : l'emplacement du fichier foo.js externe, emplacement absolu ou relatif à <filename
> &lt;kde-app-data&gt;/krusader/js/</filename
>. &lt;kde-app-data&gt; est <filename
>$(kde-config --localprefix)/share/apps/</filename
> ou <filename
>$(kde-config --prefix)/share/apps/</filename
>, pour ceux qui ne savent pas où copier les scripts et extensions. Si tous les fichiers sont nécessaires (normalement <filename
>.js</filename
> et peut être<filename
>.ui</filename
>) sont dans un de ces dossiers, c'est suffisant pour donner le nom de fichier seulement comme paramètre 1.</para
> </listitem
> <listitem
> <para
>Paramètre (optionnel) : une liste de variables qui doit être défini, comme « return=cmd; a=lalala; b='%_Ask(..)' » pour que le substituant remplace le contenu de la variable cmd et les deux autres ont toujours ces valeurs quand le script démarre.</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>ListeFichier</userinput
> - est remplacé par le nom de l'emplacement / fichier du fichier temporaire contenant une liste des éléments</para
> <orderedlist
> <listitem
> <para
>Paramètre : emplacement / nom de fichier</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>TrieCol</userinput
> - définit le trie sur la colonne du panneau spécifique.</para
> <orderedlist
> <listitem
> <para
>Paramètre : Colonne : soit « nom », « ext », « type », « taille », « modifié », « perm », « rwx », « propriétaire » et « groupe »</para
> </listitem
> <listitem
> <para
>Paramètre : trie par séquence : soit « Toggle », « Asc », « Desc »</para
> </listitem
> </orderedlist
> </listitem
> <listitem
> <para
> <userinput
>Afficher</userinput
> - définit le mode d'affichage.</para
> <orderedlist
> <listitem
> <para
>Paramètre : mode d'affichage : soit « générique », « texte », « hex »</para
> </listitem
> <listitem
> <para
>Paramètre : mode de fenêtre : soit « onglet », « fenêtre »</para
> </listitem
> </orderedlist
> </listitem
> </itemizedlist
>Une interface graphique d'aide pour le substituant est fourni. Espaces dans le Path, Courant et Liste sont par défaut, sortie automatique. Il y a plus d'une chose importante à savoir : tous les substituants qui interagissent avec les fonctionnalités internes de &krusader; sont appelées pendant le temps supplémentaire (ce qui signifie directement quand les substituants sont remplacés). Les programmes externes sont appelés à l'exécution (ce qui signifie après que tous les substituants sont remplacés).</para
>
  <para
>
    <emphasis role="bold"
>Propriétés avancées</emphasis
>
  </para
>
  <para
>Vous pouvez configurer ici où votre commande doit être visible (pour le menu par clic-droit). En plus, il est possible de modifier la commandé exécutée et la confirmer séparément. Vous pouvez aussi définir un utilisateur avec lequel la commande doit être exécutée. <itemizedlist
>
    <listitem
>
      <para
>Configure si l'action est valable pour un protocole, un emplacement, un type MIME ou un nom de fichier.</para
>
    </listitem
>
    <listitem
>
      <para
>Ajuster la ligne de commande avec l'exécution.</para
>
    </listitem
>
    <listitem
>
      <para
>Définit un utilisateur différent pour l'exécution (cela n'a aucun effets dans les fonctionnalités internes de &krusader;).</para
>
    </listitem
>
  </itemizedlist
></para
>
</sect1
>
