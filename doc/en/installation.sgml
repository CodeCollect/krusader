<appendix id = "installation">
<!-- **********************************************************************
                               installation.sgml
                            +++++++++++++++++++++++
  copyright            : (C) 2000, 2001, 2002, 2003 Rafi Yanai, Shie Erlich
                             2003 Frank Schoolmeesters
  e-mail               : krusader@users.sourceforge.net
  web site             : http://krusader.sourceforge.net
  description          : a Krusader Documentation File

***************************************************************************
* Permission is granted to copy, distribute and/or modify this            *
* document under the terms of the GNU Free Documentation License,         *
* Version 1.1 or any later version published by the Free Software	  *
* Foundation; with no Invariant Sections, no Front-Cover Texts and        *
* no Back-Cover Texts.  A copy of the license is available on the         *
* GNU site http://www.gnu.org/licenses/fdl.html or by writing to:         *
* Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,    *
* MA 02111-1307, USA.                                                     *
*********************************************************************** -->
<title>Installation</title>

  <sect1 id = "getting-Krusader">
  <title>How to obtain &krusader;</title>

  <sect2 id="krusader_stable">
  <title>Stable version</title>
  <para><filename>krusader-x.xx.tar.gz</filename></para>
  <para>
  The most updated stable version can be found on the &krudownload_url;.
  It contains the source tarballs and RPM packages to whatever distro we are currently
  using. There might be some other packages on the site, but that depends on
  other users contributions.</para>

  <para>You may also find copies on &Linux; software archives such as
  &freshmeat_url; or
  <ulink url="http://apps.kde.com">apps.kde.com</ulink>.
   If you can't find a RPM package for your &Linux; distribution,
   we recommend searching for it with &rpmfind_url;.
  </para>

  <para>A &krufreebsd_port_url; of &krusader; is maintained, the Search button will lead you to the latest BSD version.
  Many thanks to <link linkend="credits">Heiner Eichmann</link> !
  </para>
  </sect2>

  <sect2 id="krusader_devel">
  <title>Development version (beta release)</title>
  <para><filename>krusader-x.xx-betax.tar.gz</filename></para>
  <para>
  The most updated development version can be found on the &krudownload_url;.
  It contains the source tarballs and sometimes even RPM packages to whatever distro we are currently
  using.</para>

  <caution><para>This releases are beta releases and can contain some bugs.</para></caution>

  <para>This version has 2 goals:
  <itemizedlist>
	<listitem>
	   <para>provide the latest new features to &krusader; users, but these new features might lead to
	   some unfortunate bugs</para>
	</listitem>
	<listitem>
	   <para>have feedback from &krusader; users so that we can fix the bugs</para>
	</listitem>
  </itemizedlist>
  </para>
  <para>Before every stable release we release at least one development version, so that we can hunt down
  the bugs. This is the ideal moment for updating the translations, so that the stable version is 100%
  translated.</para>

  </sect2>

  <sect2 id="krusader_cvs">
  <title>CVS builds</title>
  <para><filename>krusader-cvs-yyyy-mm-dd.tar.gz</filename></para>
  <warning><para>These builds are untested and come without any warranty.
                   They may contain bugfixes, new features or new bugs!</para>
  </warning>

  <para>
  We provide daily (sometimes weekly) builds of &krusader;'s CVS version.
  For those who are interested. The <keycap>nightly tarball</keycap> can be found on the
  &krucutedge_url;.
  Depending on the moment this version will be stable or unstable. Just before a stable release, the cvs version
  is almost stable. After a stable release new features will be added in cvs, so that it might lead to
  some unfortunate bugs. In some rare cases this builds will even not compile if we make a mistake, in that case
  we try to fix the mistake as soon as possible.
  </para>

  <para>&krusader; provides 2 nightly builds (snapshots):
  <orderedlist numeration="arabic">
	<listitem>
	   <para><command>make -f Makefile.cvs</command> must be run before the <command>./configure</command>
	    script is available</para>
	</listitem>
	<listitem>
	   <para>for uses who have problems with the <command>make -f Makefile.cvs</command> command,
	   we have already done this for you and the <command>./configure</command> script is included
	   in the tarball (This tarball is a bit bigger then the first one).
           </para>
	</listitem>
  </orderedlist>
  </para>

  <para><keycap>Checkout from CVS</keycap>.
  This projects SourceForge CVS repository can be checked out through anonymous (pserver) CVS with
  the following instruction set. The module you wish to check out must be specified as the modulename.
  When prompted for a password for anonymous, simply press the Enter key.</para>
  <para>Currently there are two module options:
  <itemizedlist>
  <listitem><para>krusader_kde2: the KDE2 branch, stable but it's basically v1.01 and there are no
  planned changes</para></listitem>
  <listitem><para>krusader_kde3: the KDE3 branch</para></listitem>
  </itemizedlist></para>
  <para>To checkout the &krusader; KDE3 version from cvs:
  <screen><prompt>$</prompt> <userinput><command>cvs</command> <option>-d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/krusader login</option></userinput></screen>
  <screen><prompt>$</prompt> <userinput><command>cvs</command> <option>-z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/krusader co krusader_kde3</option></userinput></screen>
  (note: updates from within the modules directory do not need the -d parameter)
  </para>

  <para>We have also &viewcvs_url; to browse the CVS repository.</para>

  </sect2>
   <sect2 id="Krusader_old">
   <title>Older releases</title>
   <para>Looking for older releases? Try the &sfmirrors_url; available from our project page.</para>
  </sect2>
  </sect1>

  <sect1 id="requirements">
  <title>Requirements</title>

    <para>
    In order to successfully use &krusader;, you need &kde; 3.x.x.</para>
    <para><remark>For &kde; 2.x.x there is &krusader; v1.01, stable but there are no planned changes.</remark></para>
    <para>Note: all versions >=1.02 are &kde; 3.x.x only.</para>
    <para>&krusader; uses about 10 megs of memory to run, but this may vary depending
    on your platform and configuration.
    In order to handle archives the archivers must be installed to your PATH.
    </para>

    <para>
    A package of popular (un)packers, &krusader; itself and adons can be found on the &krudownload_url;.
    </para>

    <para>
    You can find a list of changes in the &online_changelog_url; file or in the <filename>ChangeLog</filename>
    file of the &krusader; sources.
    </para>
  </sect1>

  <sect1 id="compilation">
  <title>Compilation and installation</title>

   <sect2 id="sourcedownload">
   <title>I have downloaded the Sources for &krusader;. What now?</title>

   <para>Check the environment variables &kdeqtdir_lnk;.</para>

   <para>In order to compile and install &krusader; on your system, type the
    following in the base directory of the &krusader; distribution:</para>

   <screen>   <prompt>$</prompt> <userinput><command>./configure</command></userinput>
   <prompt>$</prompt> <userinput><command>make</command></userinput>
   <prompt>$</prompt> <userinput><command>su -c 'make</command> <option>install'</option></userinput></screen>

  <para>Since &krusader; uses <command>autoconf</command> and
  <command>automake</command> you should have no trouble compiling it. Should you
  run into problems please read the detailed installation instructions below.</para>

   <para>The next procedure will explain step by step in detail how to install &krusader;.
   This question has been asked many times and especially users new to &Linux; often have
   problems compiling software from source. Therefore we are trying to keep the explanations as
   detailed as possible even if they are mostly not &krusader; specific. Experienced users may
   easily skip most of the steps. Feel free to ask for help at our &kruforum_url; if anything is unclear.

   <orderedlist>
   <listitem><para>Open your favourite terminal emulation (e.g. &konsole;).</para></listitem>
   <listitem><para>We recommend to create a separate directory which keeps all the sources you compile.
                   This will give you a better overview of installed programs and makes it easier to uninstall them
                   later.
		   <screen><prompt>$</prompt> <userinput><command>mkdir</command> ~/source</userinput></screen>
                   The chosen directory is just an example, any other will work.</para></listitem>
   <listitem><para>Copy over the sources and unpack them.
                   <screen><prompt>$</prompt> <userinput><command>cp</command> /"krusader_dir"/krusader-x.xx.tar.gz ~/source</userinput></screen>
                    <screen><prompt>$</prompt> <userinput><command>cd</command> ~/source</userinput></screen>
                    <screen><prompt>$</prompt> <userinput><command>tar</command> <option>-xzvf</option> krusader-x.xx.tar.gz</userinput></screen></para></listitem>
    <listitem><para>The tarball is no longer needed at this point, you can delete it if you want.
                    <screen><prompt>$</prompt> <userinput><command>rm</command>  krusader-x.xx.tar.gz</userinput></screen></para></listitem>
    <listitem><para>Change to the directory containing the sources.
                    <screen><prompt>$</prompt> <userinput><command>cd</command>  krusader-x.xx</userinput></screen></para></listitem>
    <listitem id="kde_qt_dir"><para>Determine your &Qt; and &kde; directories. &krusader;'s configure script uses the
    environment variables <envar>QTDIR</envar> and <envar>KDEDIR</envar>.
                    <screen><envar>QTDIR</envar>  : <replaceable>&lt;path to your Qt installation&gt;</replaceable>    (e.g. /usr/qt3)</screen>
                    <screen><envar>KDEDIR</envar> : <replaceable>&lt;path to your KDE installation&gt;</replaceable>   (e.g. /usr or /opt/kde3)</screen>
                    Normally your distribution will set them for you, but experience has shown that some don't. You can
                    easily check the values with the echo command.
                    <screen><prompt>$</prompt> <userinput><command>echo</command> $QTDIR</userinput></screen>
                    <screen><prompt>$</prompt> <userinput><command>echo</command> $KDEDIR</userinput></screen>
                    In case you just receive empty lines, the variables are not set and you have to do it manually.
                    If you have no idea what to set the variables to, ask your distributor or use the find command.
                    <screen><prompt>$</prompt> <userinput><command>find</command> <option>/usr /opt -name</option> qtconfig <option>-type f -perm +111</option></userinput></screen>
                    <screen><userinput>/usr/qt/3/bin/qtconfig</userinput></screen>

                    <screen><prompt>$</prompt> <userinput><command>find </command> <option>/usr /opt -name</option> startkde <option>-type f -perm +111</option></userinput></screen>
                    <screen><userinput>/usr/kde/3.1/bin/startkde </userinput></screen>
                    In this case /usr/qt/3 is your <envar>QTDIR</envar>, /usr/kde/3.1 is your <envar>KDEDIR</envar>
		    and installed binaries will go to /usr/kde/3.1/bin.

                    <screen><prompt>$</prompt> <userinput><command>export</command> QTDIR=<replaceable>&lt;replace with your QTDIR&gt;</replaceable></userinput></screen>
                    <screen><prompt>$</prompt> <userinput><command>export</command> KDEDIR=<replaceable>&lt;replace with your KDEDIR&gt;</replaceable></userinput></screen>

                    Note, that the variables are only set for the lifetime of your current shell.
                    If you close your terminal and open a new one they will be gone.
                    Assuming &krusader; is not the only &Qt;/&kde; program you want to compile, we recommend to make these
                    settings permanent (e.g. append both export commands to your /etc/profile).</para></listitem>
     <listitem><para>If you have download from CVS you wil have to run the following
                     command to create the "./configure" script:
                     <screen><prompt>$</prompt> <userinput><command>make</command> <option>-f</option>  Makefile.cvs</userinput></screen>
                     If you have download a stable version <filename>"krusader-x.xx.tar.gz"</filename>"
		     or a beta version <filename>"krusader-x.xx-betax.tar.gz"</filename>,
		     you can skip this item.</para>
		     <para>If everything is ok you will see the following output on your screen:
<screen>This Makefile is only for the CVS repository
This will be deleted before making the distribution
*** Creating acinclude.m4
*** Creating list of subdirectories
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
*** Creating config.h template
*** Creating Makefile templates
*** Postprocessing Makefile templates
*** Creating date/time stamp
*** Finished
Don't forget to run ./configure
If you haven't done so in a while, run ./configure --help
<prompt>$</prompt>
</screen>
</para>

   <note><para>You wil need to have: <application>autoconf 2.52, 2.53 or 2.54</application> and
   <application>automake 1.6</application> (or higher) for the <command>make -f Makefile.cvs</command>
   command</para></note>

   <tip><para>If you encounter problems with this command click
   <link linkend="krusader_cvs">here</link>.</para></tip>

		     </listitem>
    <listitem><para>Now you should be ready to run the configure script.
                     <screen><prompt>$</prompt> <userinput><command>./configure</command></userinput></screen>
		     </para>

		     <para>Usually the &krusader; binary will be installed in the <filename>KDEDIR/bin</filename>
		     directory. With <userinput><command>./configure</command>
		     <option> --prefix=<replaceable>/usr/local</replaceable></option></userinput>.
                     you can change the destination, in this case the &krusader; binary will be installed in the
		     <filename>/usr/local/bin</filename> directory.</para>


	<para>Use <userinput><command>./configure</command> <option>--help</option></userinput>
	to see more options or read the <filename>INSTALL</filename> file in the &krusader; sources.</para>

		     <para>If everything is ok you will see at the end the following output on your screen.
		     This is the output for Mandrake 9.1, (other distributions can give a different output).
		     <programlisting>
Krusader Project:
-----------------
Source code location: .
C Compiler:           gcc
C Compiler flags:     -ansi -W -Wall -pedantic -Wchar-subscripts -Wshadow -Wpointer-arith
-Wmissing-prototypes -Wwrite-strings -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -O2
-Wformat-security -Wmissing-format-attribute
C++ Compiler:         g++
prefix:               /usr
kde_libraries:        /usr/include
kde_includes:         /usr/lib
kde_locale:           /usr/share/locale
qt_libraries:         /usr/lib/qt3/lib
qt_includes:          /usr/lib/qt3/include
KDEDIR:               /usr
QTDIR:                /usr/lib/qt3
Install path:         /usr/bin
krusader version:     1.30
krusader binary:      /usr/bin/krusader     (after 'make install')
Thank you for using Krusader

Good - your configure finished. Start make now
<prompt>$</prompt>
</programlisting>

<tip><para>At the end of the <command>./configure</command> script you will find a summary of the most important settings, e.g. where the &krusader; binary will be installed (after the 'make install' command).</para></tip></para>

<para>This part will also display a warning if the environment variables &kdeqtdir_lnk; are empty.</para>
		     <para>If <command>./configure</command> fails, take a look at
		     <link linkend="missing_libs">missing libs or headers</link>.</para></listitem>
    <listitem><para>Start the compilation process with make.
                    <screen><prompt>$</prompt> <userinput><command>make</command></userinput></screen>
                    If <command>./configure</command> was successful and <command>make</command> failed for some
		    reason, continue to read this page. If you can't find any solution for your problem then feel free
		    to post a help request at our &kruforum_url;.</para></listitem>
    <listitem><para>If nothing went wrong, finally install &krusader;.
                    <screen><prompt>$</prompt> <userinput><command>su -c 'make</command> <option> install'</option></userinput></screen>
                    You will be asked to enter your root password.</para></listitem>

<listitem><para>If you upgraded &krusader; verify that the
           <filename>krusader_source_dir\krusader\krusaderrc.ui</filename> file is upgraded in
	   <userinput>$KDEDIR/share/apps/krusader</userinput> and
	   <userinput>~/.kde/share/apps/krusader</userinput>
	   , click here for more <link linkend="krusaderrc_ui">info</link>.</para></listitem>

    <listitem><para>You can if you want: clean up to save some diskspace.
                    <screen><prompt>$</prompt> <userinput><command>make</command> <option>clean</option></userinput></screen>
                    This step is optional.</para></listitem>
    <listitem><para>If you ever want to uninstall &krusader;, just use
                    <screen><prompt>$</prompt> <userinput><command>su -c 'make</command> <option>  uninstall'</option></userinput></screen>
                    You will be asked to enter your root password.</para></listitem>
    </orderedlist>
 </para></sect2>

   <sect2 id="missing_libs">
   <title>I have followed all steps but configure complains about missing libs or headers. What to do?</title>
   <para>Install them. ;-)</para>
   <para>Here is a (obviously incomplete) list of &krusader;'s dependencies:</para>
   <para><itemizedlist><listitem><para>gcc (other compilers may work but haven't been tested) </para></listitem>
                   <listitem><para>autoconf (e.g. autoconf-2.x-xmdk.i586.rpm)</para></listitem>
                   <listitem><para>automake (e.g. automake1.x-x.x.x-xmdk.i586.rpm)</para></listitem>
                   <listitem><para>XFree</para></listitem>
                   <listitem><para>&Qt; (all &krusader; versions >=1.02 are &Qt; 3.x only)</para></listitem>
                   <listitem><para>kdelibs (all &krusader; versions >=1.02 are &kde; 3.x only)</para></listitem>
                   <listitem><para>libpng </para></listitem>
                   <listitem><para>fam and famlibs (e.g. fam-2.x.x-xmdk.rpm and libfam0-devel-2.x.x-5mdk.i586.rpm)
		    	      </para></listitem></itemizedlist>
                   </para><para>
                   Most RPM-based distributions seperate the headers from the libs. The headers are needed to compile
                   &krusader;. Look for packages in the form foo-devel-*.rpm (e.g. kdelibs-devel-3.1-58mdk.i586.rpm)
		   or foo-dev-*.deb for Debian based distributions. They most likely come with your
		   distribution. <tip><para>If you can't find the needed package, use then
		   &rpmfind_url; and click 'missing lib or header'
		   in the search line. Or use "apt-cache search" to find the
		   corresponding package.</para></tip></para>
   </sect2>

   <sect2 id="PATH">
   <title>I have successfully installed &krusader; from source. Everything went fine but I can't start it. What's going wrong here?</title>
   <para><itemizedlist>
          <listitem><para>The &krusader; binary is obviously not in your PATH.</para></listitem>
          <listitem><para>Use the find command to locate the binary.
          <screen><prompt>$</prompt> <userinput><command> find</command> <option>/usr /opt -name</option>  krusader <option>-type f -perm +111</option></userinput></screen>
          <screen><userinput>/usr/local/bin/krusader</userinput></screen>
          Here, the binary somehow made it into /usr/local/bin. It is most likely, that your
	  <envar>KDEDIR</envar> enviroment variable wasn't set properly, look at &kdeqtdir_lnk; for more info.</para></listitem>
          <listitem><para>If you don't want to recompile &krusader;, just add /usr/local/bin to your PATH. To do this
	                    for all users, append the following line to your /etc/profile (or any other file your shell
			    sources at startup).
         <screen><prompt>$</prompt> <userinput><command>export</command>  PATH=$PATH:<replaceable>/usr/local/bin</replaceable></userinput></screen></para></listitem>
    </itemizedlist></para>
  </sect2>

 <sect2 id="SourceRPM">
    <title>I have downloaded the SourceRPM for &krusader;. What now?</title>
    <para><itemizedlist>
            <listitem><para>To recompile a SourceRPM for your machine, do this (being root):
            <screen><prompt>$</prompt> <userinput><command>su -c 'rpm</command> <option>--rebuild</option>  <replaceable>&lt;/path/to/filename&gt;</replaceable>'</userinput></screen>You will be asked to enter your root password.</para></listitem>
            <listitem><para>If nothing goes wrong, a RPM will be created at /usr/src/RPM/RPMS/i386 (replace i386 with your arch) Install as usual, for example.
            <screen><prompt>$</prompt> <userinput><command>su -c 'rpm</command> <option>-ivh</option>  <replaceable>&lt;/path/to/filename&gt;</replaceable>'</userinput></screen>You will be asked to enter your root password.</para></listitem>

     </itemizedlist></para>
  </sect2>

 <sect2 id="binary">
   <title>I'm trying to install binary foo, but it fails. What's wrong?</title>
   <para><itemizedlist>
          <listitem><para>Since we only provide (and use) the source, we don't know. Feel free to post a help request
	                    at our &kruforum_url;.
          </para></listitem>
   </itemizedlist></para>
 </sect2>

<sect2 id="goto_faqlist">
   <title>See also the FAQ's</title>
   <para><link linkend="faqlist">Questions and Answers</link></para>
</sect2>

</sect1>

  <sect1 id="starting-krusader">
  <title>Starting &krusader;</title>

  <para>Type <userinput><command>krusader</command></userinput> at a command
  prompt. You can create shortcut on your desktop or create an
  entry in the (&kde;) menu. Read the previous page if &krusader; doesn't start.</para>

   <para>When &krusader; is started from the command-line, various options can be specified to modify
   its behavior.</para>

   <note><para>Don't wurry about the messages you get in the &konsole;</para></note>

  <para><option>--left</option>
   <replaceable>&lt;path&gt;</replaceable> start left panel at
   <replaceable>&lt;path&gt;</replaceable></para>

   <para><option>--right</option>
   <replaceable>&lt;path&gt;</replaceable> start right panel at
   <replaceable>&lt;path&gt;</replaceable></para>

   <para>Example:
   <screen><prompt>$</prompt> <userinput><command>krusader</command> <replaceable>--left=/mnt/cdrom --right=ftp://downloads@myserver.net</replaceable></userinput></screen>
   </para>

  <para>The standard &Qt; and &kde; command-line
  options are available, and can be listed by entering
  <userinput><command>krusader</command> <option>--help</option></userinput>. </para>

  <variablelist><title>Other command-line options:</title>
	<varlistentry>
		<term><option>--help-qt</option></term>
		<listitem><para><action>List Qt-specific options</action></para></listitem>
	</varlistentry>
	<varlistentry>
		<term><option>--help-kde</option></term>
		<listitem><para><action>List KDE-specific options</action></para></listitem>
	</varlistentry>
	<varlistentry>
		<term><option>--help-all</option></term>
		<listitem><para><action>List all options</action></para></listitem>
	</varlistentry>
	<varlistentry>
		<term><option>--author</option></term>
		<listitem><para><action>Show the authors names</action></para></listitem>
	</varlistentry>
	<varlistentry>
		<term><option>-v,--version</option></term>
		<listitem><para><action>Show the version number</action></para></listitem>
	</varlistentry>
	<varlistentry>
		<term><option>--license</option></term>
		<listitem><para><action>Show license information</action></para></listitem>
	</varlistentry>
  </variablelist>

  </sect1>

  <sect1 id="configuration">
  <title>Configuration</title>

  <para>
  When your run &krusader; for the first time the &krusader; configuration module 
  <link linkend="konfigurator">Konfigurator</link> will show up and allow you to
  configure &krusader; as well as detect installed packers and tools. You can always run
  Konfigurator again from the &settingsmenu_lnk;.
  </para>
  </sect1>

</appendix>



